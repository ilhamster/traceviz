{
  "name": "traceviz",
  "version": "0.0.0",
  "private": true,
  "workspaces": [
    "client/core",
    "client/angular",
    "logviz/client"
  ],

  "scripts": {
    "clean": "rimraf client/angular/dist client/core/dist client/angular/.angular client/core/.angular client/core/.tsbuildinfo logviz/client/dist logviz/client/.angular",
    "deep-clean": "rimraf node_modules package-lock.json client/angular/node_modules client/core/node_modules logviz/client/node_modules",
    "reset": "npm install && npm run clean && npm run deep-clean",
    "bazel-reset": "rimraf .aspect && bazel clean --expunge",
    "reset-all": "npm run bazel-reset && npm run reset",

    "install:all": "npm install",
    "install:core": "npm --workspace client/core install",
    "install:angular": "npm --workspace client/angular install",
    "install:logviz": "npm --workspace logviz/client install",

    "build": "npm run build:core && npm run build:angular",
    "build:core": "cd client/core && npm run build",
    "build:angular": "cd client/angular && npx ng build",
    "build:logviz": "cd logviz/client && npm run build",

    "test": "npm run test:core && npm run test:angular",
    "test:core": "cd client/core && npm run test",
    "test:angular": "cd client/angular && npm run test:headless",

    "bt": "npm run build && npm run test",
    "ibt": "npm run install:all && npm run bt",

    "ib:logviz": "npm run install:logviz && npm run build:logviz",

    "run:logviz": "cd logviz && go run server/server.go --resource_root ./client/dist/client",

    "demo": "npm run ibt && npm run ib:logviz && npm run run:logviz"
  },

  "devDependencies": {
    "rimraf": "^6.1.2"
  }
}
